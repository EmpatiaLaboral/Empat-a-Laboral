<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="description" content="Empatía Laboral: Encuentra reseñas confiables sobre empresas con trato justo a sus empleados. Comparte tus experiencias y ayuda a construir un mundo laboral más justo.">
        <title>Empatía Laboral</title>
    
        <!-- CSS de Leaflet -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
        <!-- CSS de Leaflet.AwesomeMarkers -->
        <link rel="stylesheet" href="styles/leaflet.awesome-markers.css">
        <!-- CSS de Font Awesome para iconos -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!-- CSS personalizado -->
        <link rel="stylesheet" href="styles/styles.css">
    
        <!-- Firebase desde la CDN -->
    <!-- Firebase desde la CDN (sin módulos) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">


    <!-- Archivo de configuración de Firebase -->
    <script src="scripts/firebaseConfig.js"></script>
    
    </head>
<body>
    <header>
        <div class="header-container">
            <div class="logo-title-container">
                <img src="logo.png" alt="Logo de la Empresa" class="logo" loading="lazy">
                <h1 class="site-title">EMPATIA LABORAL</h1>
            </div>
            <nav>
                <ul class="nav-list">
                    <li><a href="#home"><a href="index.html">Inicio</a></li>
                    <li><a href="#map"><a href="map.html">map</a></li>
                    <li><a href="#services"><a href="dana.html">I.Dana</a></li>
                    <li><a href="#chat"><a href="Chat.html">Comunidad</a></li>
                    <li><a href="#escribe"><a href="escribe.html">About us</a></li>

                </ul>
                <div class="button-container">
                    <button type="button" class="open-popup-button login-button" aria-label="Iniciar sesión" onclick="openPopup('login')">Iniciar Sesión</button>
                    <div id="success-message" aria-live="polite">¡Operación realizada con éxito!</div>
                    <button type="button" class="open-popup-button register-button" aria-label="Registrarse" onclick="openPopup('register')">Registrarse</button>
                    <button type="button" class="logout-button" aria-label="Cerrar sesión" onclick="logout()">Cerrar Sesión</button>
                </div>
                
            </nav>
        </div>
    </header>
    <main>

        <section id="intro">
            <h1>Explora el Mapa de Empresas</h1>
            <p>Descubre empresas en tu área o en cualquier parte del mundo. Filtra por sector, calificaciones o ubicación, y encuentra información confiable sobre empleadores que valoran a sus trabajadores.</p>
        </section>

        <section id="reviews">
        </section>
        


        <div id="main-container">

            


    
            <section id="map">
                <h2>Mapa Interactivo</h2>
                
    
    
    
    
            </section>
    
           <!-- Menu de selección de sector -->
        <div id="sectorMenu" style="display:none;">
            <h3>Filtros de Búsqueda</h3>
            <label for="sectorSelect">Selecciona el sector:</label>
            <select id="sectorSelect" multiple>
                <option value="Tecnología">Tecnología</option>
                <option value="Tienda">Tienda</option>
                <option value="Educación">Educación</option>
                <option value="Salud">Salud</option>
                <option value="Construcción">Construcción</option>
                <option value="Finanzas">Finanzas</option>
                <option value="Deportes">Deportes</option>
                <option value="Turismo">Turismo</option>
                <option value="Otros">Otros</option>
            </select>
            <br>
            <label for="valoracionMin">Valoración Mínima:</label>
            <input type="number" id="valoracionMin" min="1" max="5" placeholder="1 - 5">
            <br>
            <button id="aplicarFiltros">Aplicar Filtros</button>
            <button id="restablecerFiltros">Restablecer Filtros</button>
            <button id="seleccionarTodosSectores">Seleccionar Todos los Sectores</button>
        </div>
        <script src="scripts/filtros.js" defer></script>
    
            
    
        <section id="buscar">
            <h2>Buscador</h2>
            <div id="buscar-direccion-container">
                <input type="text" id="buscar-direccion" placeholder="Buscar dirección...">
                <button id="buscar-btn">Buscar</button>
            </div>
            <section id="add-company-form">
                <h2>Añadir Empresa</h2>
                <form id="company-form">
                    <label for="company-name">Nombre de la Empresa:</label>
                    <input type="text" id="company-name" required placeholder="Introduce el nombre de la empresa">
        
                    <label for="sectorSelectAddCompany">Sector Laboral:</label>
                    <select id="sectorSelectAddCompany" required>
                        <option value="" disabled selected>Selecciona un sector</option>
                        <option value="Tecnología">Tecnología</option>
                        <option value="Tienda">Tienda</option>
                        <option value="Educación">Educación</option>
                        <option value="Salud">Salud</option>
                        <option value="Construcción">Construcción</option>
                        <option value="Finanzas">Finanzas</option>
                        <option value="Deportes">Deportes</option>
                        <option value="Turismo">Turismo</option>
                        <option value="Otros">Otros</option>
                    </select>
        
                    <label for="company-address">Dirección:</label>
                    <input type="text" id="company-address" placeholder="Opcional si proporciona latitud y longitud">
        
                    <label for="company-lat">Latitud:</label>
                    <input type="number" id="company-lat" step="any" placeholder="Ej. 37.7749">
        
                    <label for="company-lng">Longitud:</label>
                    <input type="number" id="company-lng" step="any" placeholder="Ej. -122.4194">
        
                    <button type="submit">Añadir Empresa</button>
                </form>
                <div id="company-message"></div>
            </section>

            <p>Usa el mapa para buscar empresas cercanas, filtrar resultados y consultar reseñas confiables de empleados.</p>

        </section>

        
    </main>

    <section id="video-tutorial">
        <h2>¿Cómo Usar el Mapa?</h2>
        <p>Mira nuestro video tutorial para aprender a usar el mapa interactivo:</p>
        <a href="https://www.youtube.com/watch?v=vcEtmLBbLgk" target="_blank" class="btn-primary">Ver Video Tutorial</a>
    </section>

    <footer id="footer">
        <p>Esta página web está en constante desarrollo y mejora.
            Si tienes alguna sugerencia para ayudarnos a crecer y mejorar,
            no dudes en enviarnos un correo a empatialaboralayuda@gmail.com. 
            ¡Nos encantaría escuchar tus ideas y comentarios!
            Compartir en redes sociales</p>
                <a href="https://www.facebook.com/sharer/sharer.php?u=https://tu-url.com" target="_blank" class="social-link">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <a href="https://twitter.com/intent/tweet?url=https://tu-url.com&text=¡Echa un vistazo a esta web!" target="_blank" class="social-link">
                    <i class="fab fa-twitter"></i>
                </a>
                <a href="https://www.instagram.com" target="_blank" class="social-link">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://tu-url.com" target="_blank" class="social-link">
                    <i class="fab fa-linkedin-in"></i>
                </a>
                <a href="https://wa.me/?text=¡Echa un vistazo a esta web! https://tu-url.com" target="_blank" class="social-link">
                    <i class="fab fa-whatsapp"></i>
                </a>
                <a href="https://www.youtube.com/channel/TU_CANAL" target="_blank" class="social-link">
                    <i class="fab fa-youtube"></i>
                </a>
       
    </footer>
    
    <!-- Popups de autenticación y login -->
    <div id="auth-popup" class="popup" aria-hidden="true">
        <div class="popup-content">
            <span class="close" onclick="closePopup()" tabindex="0" aria-label="Cerrar popup">&times;</span>
            <h2 id="popup-title"></h2>
            <form id="popup-form" aria-live="assertive">
                <div id="password-suggestions" style="color: red; margin-top: 5px;"></div>
                <div>
                    <input type="checkbox" id="remember-me" name="remember-me">
                    <label for="remember-me">Recordarme</label>
                </div>
                <input type="text" id="login-email" autocomplete="email">
                <input type="password" id="login-password" autocomplete="current-password">
                <button type="submit">Enviar</button>
            </form>
        </div>
    </div>

    <!-- Elemento loader -->
    <div id="loader" aria-live="polite">Cargando...</div>
    <div id="success-message" aria-live="polite">¡Éxito!</div>

    <!-- Scripts de Leaflet y AwesomeMarkers -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" defer></script>
    <script src="scripts/leaflet.awesome-markers.js" defer></script> <!-- Asegurarse de que esta ruta es correcta -->

    <!-- Scripts personalizados -->
    <script src="scripts/reseñas.js" defer></script>
    <script src="scripts/map.js" defer></script>
    <script src="scripts/addCompany.js" defer></script>

    <script src="scripts/buscador.js" defer></script>
    <script src="scripts/authFunctions.js" type="module"></script>
    <script src="scripts/validation.js" type="module"></script>
    <script src="scripts/passwordUtils.js" type="module"></script>
    <script src="scripts/infoButton.js" defer></script>
    <script src="scripts/footer.js" defer></script>
    <script>
        function openPopup(type) {
            const popup = document.getElementById('auth-popup');
            const title = document.getElementById('popup-title');
            const form = document.getElementById('popup-form');
            popup.style.display = 'block';
            popup.setAttribute('aria-hidden', 'false');
            title.textContent = type === 'login' ? 'Iniciar Sesión' : 'Registrarse';
            form.focus();
        }

        function closePopup() {
            const popup = document.getElementById('auth-popup');
            popup.style.display = 'none';
            popup.setAttribute('aria-hidden', 'true');
        }
    </script>
    <script src="scripts/cookies.js" defer></script>
    <script async src="//code.tidio.co/jjwaksgq9v6pk1z22mycnx4gw878efvy.js"></script>
    <div id="legal-banner" class="legal-banner">
        <p>
            Al utilizar esta plataforma, aceptas que eres el único responsable del contenido que publicas. Consulta nuestras 
            <a href="politica-privacidad.html">Políticas de Privacidad</a> y 
            <a href="politica-cookies.html">Política de Cookies</a> para más detalles.
        </p>
    </div>


    
</body>
</html>
